# from ampersand YT
# sessions(opened tmux), to attach to closed session: tmux attach -t {session number}
# C -ctrl, S - shift, M - lAtl
# to reload all tmux - tmux kill-server

unbind-key -a -T root

set -g pane-border-lines double

set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

setw -g mode-keys vi

set -g mouse on

set -s escape-time 0

set -g history-limit 2000

bind -n M-C source-file ~/.config/tmux/tmux.conf \; display "Config reloaded!"
bind -n M-s choose-tree -s #open sessions tree

bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5
bind -n M-6 select-window -t 6
bind -n M-7 select-window -t 7
bind -n M-8 select-window -t 8
bind -n M-9 select-window -t 9

bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

bind -n M-h select-pane -L
bind -n M-l select-pane -R
bind -n M-k select-pane -U
bind -n M-j select-pane -D

bind -n M-S-Left resize-pane -L 5
bind -n M-S-Right resize-pane -R 5
bind -n M-S-Up resize-pane -U 3
bind -n M-S-Down resize-pane -D 3

bind -n M-v split-window -v
bind -n M-b split-window -h

bind -n M-Enter new-window
bind -n M-e kill-pane
# bind -n M-q kill-window
bind -n M-d detach
bind -n M-Q confirm-before -p "Kill entire session? (y/n)" kill-session

bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-pipe-and-cancel "wl-copy || xclip -in -selection clipboard"
bind -n M-/ copy-mode \; command-prompt -p "(search down)" "send -X search-forward '%%%'"
bind -n M-? copy-mode \; command-prompt -p "(search up)"   "send -X search-backward '%%%'"

# to reload plugins/install Ctrl+b, Shift+i

set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'egel/tmux-gruvbox'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-restore 'on'
set -g @continuum-save-interval '15'
run '~/.config/tmux/plugins/tpm/tpm'



### Theme
#
# theme settings 

# window separators
set-option -wg window-status-separator ""

# monitor window changes
set-option -wg monitor-activity on
set-option -wg monitor-bell on

# set statusbar update interval
set-option -g status-interval 1

# colorscheme 

# sessions list objects
set-option -wg mode-style bg="#1c1c1c",fg="#e8e8e8"

# default statusbar colors (terminal bg should be #282828)
set-option -g status-style bg="#1c1c1c",fg="#4e4e4e"

# default window title colors
set-option -wg window-status-style bg="#4e4e4e",fg="#e8e8e8"

# colors for windows with activity
set-option -wg window-status-activity-style bg="#89b379",fg="#1c1c1c"

# colors for windows with bells
set-option -wg window-status-bell-style bg="#cc9057",fg="#1c1c1c"

# active window title colors
set-option -wg window-status-current-style bg="#4a716e",fg="#e8e8e8"

# pane border
set-option -g pane-active-border-style fg="#4a716e"
set-option -g pane-border-style fg="#1c1c1c"

# message info
set-option -g message-style bg="#cc9057",fg="#1c1c1c"

# writing commands inactive
set-option -g message-command-style bg="#4e4e4e",fg="#b8b8b8"

# pane number display
set-option -g display-panes-active-colour "#4a716e"
set-option -g display-panes-colour "#1c1c1c"


# statusbar formatting
set-option -g status-left "#[bg=#4e4e4e, fg=#e8e8e8]#{?client_prefix,#[bg=#4e4e4e],#[bg=#262626]} #{session_name} "
set-option -g status-right "#[bg=#262626, fg=#686868] %Y-%m-%d %H:%M #[bg=#4e4e4e, fg=#b8b8b8]#{?client_prefix,#[bg=#262626],#[bg=#1c1c1c]} #{host_short} "

set-option -wg window-status-current-format "#{?window_zoomed_flag,#[fg=default bold],#[fg=default]} #{window_index} #{window_name} "
set-option -wg window-status-format "#{?window_zoomed_flag,#[fg=default bold],#[fg=default]} #{window_index} #{window_name} "
